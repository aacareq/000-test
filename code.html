<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Navigator: Master Free AI Tools in 2025 - Instant Access</title>
    <meta name="description" content="Unlock the power of free AI tools. Build custom workflows and optimize your tasks for consumers and enterprises, instantly. No signup, no data collected.">

    <!-- Tailwind CSS CDN for visual appeal & responsive design across all form factors -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Custom Tailwind config for dark mode and theme colors
        tailwind.config = {
            darkMode: 'class', // Enable dark mode for user's system preference
            theme: {
                extend: {
                    colors: {
                        'indigo-primary': '#4f46e5', // Primary brand color
                        'indigo-dark': '#3730a3',    // Darker shade for hover
                        'indigo-light': '#a5b4fc',   // Lighter shade for dark mode accents
                        'gray-bg-light': '#f9fafb',  // Light mode background
                        'gray-bg-dark': '#111827',   // Dark mode background
                    }
                }
            }
        }
    </script>
    <style>
        /* Global Styles & Overrides for a clean look */
        body {
            font-family: 'Inter', sans-serif; /* A modern, clean font fallback */
            /* Apply Tailwind classes directly for background and text colors */
            @apply bg-gray-bg-light text-gray-900 dark:bg-gray-bg-dark dark:text-gray-100;
            transition: background-color 0.3s ease, color 0.3s ease; /* Smooth dark mode transition */
        }
        /* Hide scrollbar for aesthetic, while allowing scroll (cross-browser) */
        ::-webkit-scrollbar { display: none; }
        html { scrollbar-width: none; } /* Firefox */

        /* Custom styles for drag-and-drop feedback (Visual Appeal, Active Engagement) */
        .dragging {
            opacity: 0.5;
            border: 2px dashed theme('colors.indigo-500');
        }
        .drag-over-zone {
            background-color: theme('colors.indigo-50'); /* Light blue background for drop zone */
            border: 2px dashed theme('colors.indigo-400');
        }
        /* Essential utility classes for SPA-like section switching */
        .hidden { display: none !important; }
        .visible { display: block !important; }

        /* Animation for section transitions (Unforgettable Engagement) */
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Header (Seamless Navigation) -->
    <header class="bg-white dark:bg-gray-800 shadow-sm py-4 px-6 flex justify-between items-center z-10 sticky top-0">
        <a href="#home" class="text-2xl font-bold text-indigo-primary dark:text-indigo-light" aria-label="Home - Free AI Workflow Navigator">
            AI Navigator
        </a>
        <nav>
            <ul class="flex space-x-6">
                <li><a href="#workflow" class="nav-link hover:text-indigo-primary dark:hover:text-indigo-light transition-colors" aria-label="Go to Workflow Builder">Build Workflow</a></li>
                <li><a href="#tools" class="nav-link hover:text-indigo-primary dark:hover:text-indigo-light transition-colors" aria-label="Explore AI Tools">Explore Tools</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content Area (Dynamic Sections for Intention-Driven Design & Engagement) -->
    <main class="flex-grow container mx-auto px-4 py-8">

        <!-- Home/Task Selector Section (Initial Engagement Hook) -->
        <section id="home" class="active-section max-w-4xl mx-auto py-8 fade-in">
            <h1 class="text-5xl font-extrabold text-center mb-6 text-indigo-primary dark:text-indigo-light leading-tight">Master Free AI Tools. Build Your Perfect Workflow. Instantly.</h1>
            <p class="text-2xl text-center text-gray-700 dark:text-gray-300 mb-10 max-w-2xl mx-auto">Feeling overwhelmed by AI tools? Discover how to combine them for powerful, optimized, cost-free workflows for any task. No signup. No data collected.</p>

            <div class="text-center mb-12">
                <button id="start-building-btn" class="bg-indigo-primary hover:bg-indigo-dark text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg transform hover:scale-105 transition-all duration-300" aria-label="Start building your AI workflow now">
                    Start Building Your Workflow <span aria-hidden="true">&rarr;</span>
                </button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-center">
                <div class="bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                    <h3 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200">Consumer AI Tasks</h3>
                    <ul class="text-gray-600 dark:text-gray-400 space-y-2 text-lg">
                        <li><span class="font-medium">Content Creation:</span> Blog posts, social media, stories.</li>
                        <li><span class="font-medium">Research:</span> Summaries, fact-checking.</li>
                        <li><span class="font-medium">Learning:</span> Explaining topics, flashcards.</li>
                    </ul>
                </div>
                <div class="bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300">
                    <h3 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200">Enterprise AI Tasks</h3>
                    <ul class="text-gray-600 dark:text-gray-400 space-y-2 text-lg">
                        <li><span class="font-medium">Marketing:</span> Ad copy, product descriptions.</li>
                        <li><span class="font-medium">Data Analysis:</span> Summaries, insights.</li>
                        <li><span class="font-medium">Automation:</span> Chatbots, workflow automation.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Tools Exploration Section (Layered Value Delivery) -->
        <section id="tools" class="hidden max-w-6xl mx-auto py-8 fade-in">
            <h2 class="text-4xl font-extrabold text-center mb-6 text-indigo-primary dark:text-indigo-light">Explore Free AI Tools</h2>
            <p class="text-xl text-center text-gray-700 dark:text-gray-300 mb-10">Discover the best tools for your tasks, instantly.</p>

            <div class="flex flex-col md:flex-row gap-4 mb-8">
                <input type="text" id="tool-search" placeholder="Search tools by name or description..."
                    class="flex-grow px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-primary dark:bg-gray-700 dark:text-gray-100"
                    aria-label="Search AI tools">
                <select id="task-filter" class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-primary dark:bg-gray-700 dark:text-gray-100"
                    aria-label="Filter by AI task category">
                    <option value="All">All Tasks</option>
                    <!-- Options populated by JS -->
                </select>
            </div>

            <div id="ai-tool-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- AI Tool Cards populated by JS -->
            </div>
        </section>

        <!-- Workflow Builder Section (Actionable Insights, Unforgettable Engagement) -->
        <section id="workflow" class="hidden max-w-6xl mx-auto py-8 fade-in">
            <h2 class="text-4xl font-extrabold text-center mb-6 text-indigo-primary dark:text-indigo-light">Build Your AI Workflow</h2>
            <p class="text-xl text-center text-gray-700 dark:text-gray-300 mb-10">Drag & drop tools to create powerful, optimized AI workflows. No account needed.</p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Tool Palette -->
                <aside class="md:col-span-1 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 h-full sticky top-24">
                    <h3 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200">Available Tools</h3>
                    <div id="tool-palette" class="grid grid-cols-2 gap-4">
                        <!-- Draggable Tool Items populated by JS -->
                    </div>
                </aside>

                <!-- Workflow Canvas -->
                <section class="md:col-span-2 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 min-h-[400px]"
                         id="workflow-canvas"
                         ondragover="event.preventDefault(); this.classList.add('drag-over-zone');"
                         ondragleave="this.classList.remove('drag-over-zone');"
                         ondrop="handleDrop(event);">
                    <h3 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200">Your Workflow Steps</h3>
                    <div id="workflow-steps" class="flex flex-col gap-4">
                        <div id="workflow-placeholder" class="text-center text-gray-500 dark:text-gray-400 py-20 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg">
                            Drag tools here to start building your workflow.
                        </div>
                    </div>
                </section>
            </div>

            <!-- Prompt Generator (Meaningful Personalization & Feedback) -->
            <div id="prompt-generator-section" class="mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hidden">
                <h3 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200">Generated Prompt Sequence</h3>
                <div id="generated-prompts" class="space-y-4">
                    <!-- Prompts generated by JS -->
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-100 dark:bg-gray-900 text-gray-600 dark:text-gray-400 py-6 text-center text-sm">
        <p>&copy; 2025 AI Navigator. Built for simplicity, speed, and empowerment.</p>
        <p class="mt-2">Disclaimer: Always fact-check AI outputs, especially for critical tasks.</p>
        <p class="mt-2">No personal data is collected or stored by this application.</p>
    </footer>

    <!-- JavaScript for dynamic functionality (Technical Craftsmanship, Maniacal Focus on User Intents) -->
    <script>
        // --- Hardcoded AI Tool Data (The Core "Database" for Instant Impact) ---
        // This is the source of truth for all tool info, ensuring no external dependencies.
        const allAiTools = [
            {
                id: 'chatgpt',
                name: 'ChatGPT',
                description: 'A versatile conversational AI chatbot by OpenAI, powered by GPT-4o, excels in text-based tasks.',
                tasks_supported: ['Content Creation', 'Coding Assistance', 'Research and Fact-Checking', 'Learning and Education'],
                strengths: ['Versatility', 'Multimodal Capabilities', 'Free Access (basic limits)', 'Memory and Personalization'],
                weaknesses: ['Limited Real-Time Data', 'No Native Collaboration', 'Usage Caps'],
                access_link: 'https://chat.openai.com/',
                image_url: 'https://cdn.jsdelivr.net/gh/devicons/devicon/icons/openai/openai-original.svg' // Using a public CDN for image
            },
            {
                id: 'gemini',
                name: 'Google Gemini',
                description: 'A multimodal AI chatbot integrated with Googleâ€™s ecosystem, great for research and productivity.',
                tasks_supported: ['Research and Fact-Checking', 'Content Creation', 'Coding Assistance', 'Image Analysis and Generation', 'Productivity and Organization'],
                strengths: ['Google Ecosystem Integration', 'Real-Time Data Access', 'Free Access', 'Multimodal'],
                weaknesses: ['Limited Freeform Creativity', 'Customization Limitations'],
                access_link: 'https://gemini.google.com/',
                image_url: 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Google_Gemini_logo.svg/1200px-Google_Gemini_logo.svg.png'
            },
            {
                id: 'claude',
                name: 'Claude',
                description: 'A conversational AI focused on ethical and context-aware responses, ideal for sensitive topics.',
                tasks_supported: ['Content Creation', 'Coding Assistance', 'Document Summarization', 'Customer Support Automation'],
                strengths: ['Ethical AI', 'Contextual Responses', 'Coding Prowess'],
                weaknesses: ['Limited Free Access', 'No Image Generation', 'Slower for High-Volume Inputs'],
                access_link: 'https://claude.ai/',
                image_url: 'https://cdn.worldvectorlogo.com/logos/claude-2.svg'
            },
            {
                id: 'perplexity',
                name: 'Perplexity AI',
                description: 'An AI-powered search engine and conversational assistant that provides sourced, real-time answers.',
                tasks_supported: ['Research and Fact-Checking', 'Document Summarization', 'Learning and Education'],
                strengths: ['Sourced Answers', 'Real-Time Research', 'Free Plan (no signup)'],
                weaknesses: ['Limited Depth for Complex Topics', 'Less Conversational'],
                access_link: 'https://www.perplexity.ai/',
                image_url: 'https://upload.wikimedia.org/wikipedia/commons/e/ed/Perplexity_AI_logo.svg'
            },
            {
                id: 'copilot',
                name: 'Microsoft Copilot',
                description: 'An AI assistant integrated with Microsoft 365 and Bing, powered by GPT-4 and DALL-E.',
                tasks_supported: ['Content Creation', 'Coding Assistance', 'Data Analysis and Reporting', 'Image Analysis and Generation', 'Productivity and Organization'],
                strengths: ['Microsoft Integration', 'Free Image Generation', 'Web Access'],
                weaknesses: ['Inconsistent Accuracy', 'Ad Presence'],
                access_link: 'https://copilot.microsoft.com/',
                image_url: 'https://static-s.aa-cdn.net/img/ios/1660998656/0394548d8869151528646b1424a7cf5e?v=1'
            },
            {
                id: 'deepl',
                name: 'DeepL Translator',
                description: 'An AI-powered translation tool using neural networks for accurate, natural translations.',
                tasks_supported: ['Language Translation', 'Translation and Localization'],
                strengths: ['High Accuracy', 'Free Tier', 'Simple Interface'],
                weaknesses: ['Limited Scope', 'Character Limits'],
                access_link: 'https://www.deepl.com/',
                image_url: 'https://static-s.aa-cdn.net/img/ios/981358999/e783637e19277025ec3137d036109312?v=1'
            },
            {
                id: 'chatpdf',
                name: 'ChatPDF',
                description: 'A free tool for interacting with PDFs, generating summaries, or creating flashcards from documents.',
                tasks_supported: ['Document Summarization', 'Learning and Education', 'Research and Fact-Checking'],
                strengths: ['PDF Interaction', 'No Signup Required', 'Ease of Use'],
                weaknesses: ['Limited to PDFs', 'Basic Features'],
                access_link: 'https://www.chatpdf.com/',
                image_url: 'https://www.chatpdf.com/images/favicon.png'
            }
        ];

        let currentWorkflowTools = []; // Stores tools currently in the workflow

        // --- DOM Elements Cache (Performance & Readability) ---
        const sections = {
            home: document.getElementById('home'),
            tools: document.getElementById('tools'),
            workflow: document.getElementById('workflow')
        };
        const toolSearchInput = document.getElementById('tool-search');
        const taskFilterSelect = document.getElementById('task-filter');
        const aiToolList = document.getElementById('ai-tool-list');
        const toolPalette = document.getElementById('tool-palette');
        const workflowCanvas = document.getElementById('workflow-canvas');
        const workflowStepsContainer = document.getElementById('workflow-steps');
        const workflowPlaceholder = document.getElementById('workflow-placeholder');
        const promptGeneratorSection = document.getElementById('prompt-generator-section');
        const generatedPromptsDiv = document.getElementById('generated-prompts');


        // --- Navigation Logic (Seamless Navigation) ---
        // Simple show/hide sections for SPA-like experience
        function showSection(id) {
            Object.values(sections).forEach(section => {
                section.classList.add('hidden');
                section.classList.remove('fade-in'); // Reset animation
            });
            sections[id].classList.remove('hidden');
            sections[id].classList.add('fade-in'); // Trigger fade-in animation

            // Update active nav link (Visual Appeal, Intuitive Simplicity)
            document.querySelectorAll('.nav-link').forEach(link => {
                if (link.getAttribute('href') === `#${id}`) {
                    link.classList.add('font-bold', 'text-indigo-primary', 'dark:text-indigo-light');
                } else {
                    link.classList.remove('font-bold', 'text-indigo-primary', 'dark:text-indigo-light');
                }
            });
            window.location.hash = id; // Update URL for direct linking
        }

        // Event Listeners for main navigation
        document.getElementById('start-building-btn').addEventListener('click', () => showSection('workflow'));
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault(); // Prevent default anchor jump
                const targetId = e.target.getAttribute('href').substring(1); // Get section ID from href
                showSection(targetId);
            });
        });

        // Handle initial load based on URL hash or default to home
        window.addEventListener('load', () => {
            const hash = window.location.hash.substring(1);
            if (sections[hash]) {
                showSection(hash);
            } else {
                showSection('home'); // Default to home if no hash or invalid
            }
            renderAiTools(); // Initial render of tool list and palette
            populateTaskFilter();
        });
        // Handle hash changes if user manually changes URL hash
        window.addEventListener('hashchange', () => {
            const hash = window.location.hash.substring(1);
            if (sections[hash]) {
                showSection(hash);
            }
        });


        // --- AI Tool Data Rendering (Visual Appeal, Layered Value) ---
        function renderAiTools() {
            const searchTerm = toolSearchInput.value.toLowerCase();
            const filterTask = taskFilterSelect.value;

            const filteredTools = allAiTools.filter(tool => {
                const matchesSearch = tool.name.toLowerCase().includes(searchTerm) ||
                                      tool.description.toLowerCase().includes(searchTerm);
                const matchesTask = filterTask === 'All' || tool.tasks_supported.includes(filterTask);
                return matchesSearch && matchesTask;
            });

            aiToolList.innerHTML = ''; // Clear existing tool cards
            if (filteredTools.length === 0) {
                aiToolList.innerHTML = `<p class="col-span-full text-center text-gray-500 dark:text-gray-400">No tools found matching your criteria.</p>`;
                return;
            }

            filteredTools.forEach(tool => {
                const toolCard = document.createElement('div');
                toolCard.className = `bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden flex flex-col`;
                // ARIA attributes for accessibility (Trust)
                toolCard.setAttribute('aria-labelledby', `tool-name-${tool.id}`);
                toolCard.setAttribute('aria-describedby', `tool-desc-${tool.id}`);

                const tasksHtml = tool.tasks_supported.slice(0, 2).map(task =>
                    `<span class="inline-block bg-indigo-100 dark:bg-indigo-700 text-indigo-800 dark:text-indigo-100 text-xs px-2 py-1 rounded-full mr-1 mb-1" aria-label="Supports ${task} task">${task}</span>`
                ).join('');
                const moreTasksHtml = tool.tasks_supported.length > 2 ? `<span class="inline-block bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs px-2 py-1 rounded-full">+ ${tool.tasks_supported.length - 2} more</span>` : '';

                toolCard.innerHTML = `
                    <img src="${tool.image_url}" alt="${tool.name} logo" class="w-full h-32 object-contain p-4 bg-gray-100 dark:bg-gray-700" loading="lazy" width="128" height="128">
                    <div class="p-6 flex flex-col flex-grow">
                        <h3 id="tool-name-${tool.id}" class="text-xl font-semibold mb-2 text-indigo-700 dark:text-indigo-300">${tool.name}</h3>
                        <p id="tool-desc-${tool.id}" class="text-gray-700 dark:text-gray-300 text-sm mb-4 flex-grow">${tool.description}</p>
                        <div class="mt-auto">
                            <span class="text-xs font-medium text-gray-500 dark:text-gray-400 mr-2">Tasks:</span>
                            ${tasksHtml} ${moreTasksHtml}
                        </div>
                        <a href="${tool.access_link}" target="_blank" rel="noopener noreferrer" class="mt-4 inline-block bg-indigo-primary hover:bg-indigo-dark text-white font-bold py-2 px-4 rounded-lg text-center transition-colors duration-300"
                           aria-label="Visit ${tool.name} website">
                            Visit Tool <span aria-hidden="true">&rarr;</span>
                        </a>
                    </div>
                `;
                aiToolList.appendChild(toolCard);
            });

            renderToolPalette(); // Keep palette updated with filtered tools
        }

        // Populates the task filter dropdown from the hardcoded data
        function populateTaskFilter() {
            const uniqueTasks = ['All', ...new Set(allAiTools.flatMap(tool => tool.tasks_supported))].sort();
            taskFilterSelect.innerHTML = uniqueTasks.map(task => `<option value="${task}">${task}</option>`).join('');
        }

        // Event listeners for filtering and searching
        toolSearchInput.addEventListener('input', renderAiTools);
        taskFilterSelect.addEventListener('change', renderAiTools);


        // --- Workflow Builder & Drag-and-Drop (Active Engagement, Intuitive Simplicity) ---
        function renderToolPalette() {
            toolPalette.innerHTML = ''; // Clear existing palette items
            // Filter tools available in the palette based on current search/filter, similar to tool list
            const searchTerm = toolSearchInput.value.toLowerCase(); // Use the same search for palette
            const filterTask = taskFilterSelect.value;
            const filteredPaletteTools = allAiTools.filter(tool => {
                const matchesSearch = tool.name.toLowerCase().includes(searchTerm) ||
                                      tool.description.toLowerCase().includes(searchTerm);
                const matchesTask = filterTask === 'All' || tool.tasks_supported.includes(filterTask);
                return matchesSearch && matchesTask;
            });


            filteredPaletteTools.forEach(tool => {
                const paletteItem = document.createElement('div');
                paletteItem.className = `bg-gray-100 dark:bg-gray-700 rounded-lg p-3 text-center cursor-grab active:cursor-grabbing hover:shadow-md transition-shadow duration-200`;
                paletteItem.setAttribute('draggable', 'true'); // Make draggable
                paletteItem.setAttribute('data-tool-id', tool.id); // Store tool ID for drag/drop
                paletteItem.setAttribute('aria-grabbed', 'false'); // ARIA for drag state
                paletteItem.setAttribute('role', 'button'); // Act like a button for accessibility
                paletteItem.setAttribute('tabindex', '0'); // Make focusable
                paletteItem.setAttribute('aria-label', `Drag ${tool.name} to add to workflow`);
                paletteItem.innerHTML = `
                    <img src="${tool.image_url}" alt="${tool.name} logo" class="w-16 h-16 mx-auto object-contain mb-2" width="64" height="64" loading="lazy">
                    <span class="text-sm font-medium text-gray-800 dark:text-gray-200">${tool.name}</span>
                `;
                paletteItem.addEventListener('dragstart', handleDragStart); // Attach drag start listener
                toolPalette.appendChild(paletteItem);
            });
        }

        function renderWorkflowSteps() {
            workflowStepsContainer.innerHTML = ''; // Clear existing steps
            if (currentWorkflowTools.length === 0) {
                workflowPlaceholder.classList.remove('hidden'); // Show placeholder if empty
                promptGeneratorSection.classList.add('hidden'); // Hide prompt section
                return;
            } else {
                workflowPlaceholder.classList.add('hidden'); // Hide placeholder
                promptGeneratorSection.classList.remove('hidden'); // Show prompt section
            }

            currentWorkflowTools.forEach((tool, index) => {
                const workflowStep = document.createElement('div');
                workflowStep.className = `bg-indigo-50 dark:bg-indigo-900 border border-indigo-light dark:border-indigo-700 rounded-lg p-4 flex items-center justify-between shadow-sm`;
                workflowStep.setAttribute('aria-describedby', `workflow-step-desc-${tool.id}`); // ARIA for step description
                workflowStep.innerHTML = `
                    <div class="flex items-center gap-4">
                        <img src="${tool.image_url}" alt="${tool.name} logo" class="w-10 h-10 object-contain" width="40" height="40" loading="lazy">
                        <div>
                            <span class="font-medium text-lg text-gray-800 dark:text-gray-200">${index + 1}. ${tool.name}</span>
                            <p id="workflow-step-desc-${tool.id}" class="text-sm text-gray-600 dark:text-gray-400 hidden sm:block">${tool.description.substring(0, 70)}...</p>
                        </div>
                    </div>
                    <button class="remove-step-btn text-red-500 hover:text-red-700 dark:hover:text-red-300 transition-colors"
                            data-tool-id="${tool.id}" aria-label="Remove ${tool.name} from workflow">
                        &times;
                    </button>
                `;
                workflowStepsContainer.appendChild(workflowStep);
            });

            // Attach event listeners to new remove buttons
            document.querySelectorAll('.remove-step-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const toolIdToRemove = e.target.dataset.toolId;
                    currentWorkflowTools = currentWorkflowTools.filter(tool => tool.id !== toolIdToRemove);
                    renderWorkflowSteps(); // Re-render the workflow
                    generatePrompts(); // Re-generate prompts
                });
            });

            generatePrompts(); // Always re-generate prompts after workflow changes
        }

        // Drag and Drop Handlers
        function handleDragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.dataset.toolId);
            e.target.classList.add('dragging'); // Add visual feedback for dragging
        }
        workflowCanvas.addEventListener('dragenter', (e) => { e.preventDefault(); }); // Allow dropping
        workflowCanvas.addEventListener('dragleave', () => { workflowCanvas.classList.remove('drag-over-zone'); });
        workflowCanvas.addEventListener('dragover', (e) => { e.preventDefault(); workflowCanvas.classList.add('drag-over-zone'); }); // Highlight drop zone
        workflowCanvas.addEventListener('dragend', (e) => { // Clean up after drag ends
            if (e.target && e.target.classList) {
                e.target.classList.remove('dragging');
            }
            workflowCanvas.classList.remove('drag-over-zone');
        });

        function handleDrop(e) {
            e.preventDefault();
            workflowCanvas.classList.remove('drag-over-zone'); // Remove highlight
            const toolId = e.dataTransfer.getData('text/plain');
            const tool = allAiTools.find(t => t.id === toolId);
            if (tool && !currentWorkflowTools.some(t => t.id === tool.id)) { // Prevent duplicates for simplicity
                currentWorkflowTools.push(tool);
                renderWorkflowSteps(); // Re-render the workflow
            }
        }

        // --- Prompt Generation (Actionable Insights) ---
        function generatePrompts() {
            generatedPromptsDiv.innerHTML = ''; // Clear previous prompts
            if (currentWorkflowTools.length === 0) {
                generatedPromptsDiv.innerHTML = `<p class="text-gray-500 dark:text-gray-400">Add tools to your workflow to generate prompts.</p>`;
                return;
            }

            let promptHtml = '';
            currentWorkflowTools.forEach((tool, index) => {
                let suggestedPrompt = `Initial prompt for ${tool.name} (Step ${index + 1}): "Please help me with..."`;
                // Simple prompt suggestions based on tool ID (highly customizable)
                switch (tool.id) {
                    case 'chatgpt': suggestedPrompt = `For ChatGPT: "I need a creative blog post draft about [TOPIC]. Keep it under 500 words. My target audience is [AUDIENCE]."`; break;
                    case 'gemini': suggestedPrompt = `For Google Gemini: "Summarize recent developments in [TOPIC] from Google Search. Ensure real-time data."`; break;
                    case 'claude': suggestedPrompt = `For Claude: "Draft a sensitive customer support email regarding [ISSUE], ensuring an empathetic and professional tone."`; break;
                    case 'perplexity': suggestedPrompt = `For Perplexity AI: "What are the key findings of recent research on [TOPIC]? Cite your sources from academic papers."`; break;
                    case 'copilot': suggestedPrompt = `For Microsoft Copilot: "Generate a visual concept for a [PRODUCT] marketing campaign, incorporating [STYLE]. Also, create an Excel formula to calculate [METRIC] based on [DATA]."`; break;
                    case 'deepl': suggestedPrompt = `For DeepL Translator: "Translate this text into [LANGUAGE]: '[PASTE TEXT HERE]'."`; break;
                    case 'chatpdf': suggestedPrompt = `For ChatPDF: "Upload this PDF: [UPLOAD PDF FILE]. Summarize the main arguments of this research paper and create 5 flashcards from it."`; break;
                }

                promptHtml += `
                    <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                        <h4 class="font-semibold text-lg mb-2" id="prompt-for-${tool.id}">Step ${index + 1}: ${tool.name}</h4>
                        <p class="text-gray-700 dark:text-gray-300 text-sm mb-3">Suggested Task: ${tool.tasks_supported[0]} (focus)</p>
                        <div class="relative">
                            <textarea class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" rows="5" readonly aria-labelledby="prompt-for-${tool.id}">${suggestedPrompt}</textarea>
                            <button class="copy-prompt-btn absolute top-2 right-2 bg-indigo-200 hover:bg-indigo-300 text-indigo-800 px-3 py-1 rounded-md text-xs font-semibold"
                                    data-prompt="${encodeURIComponent(suggestedPrompt)}" aria-label="Copy prompt for ${tool.name}">
                                Copy
                            </button>
                        </div>
                        <p class="text-xs text-gray-500 dark:text-gray-400 mt-2">Visit tool: <a href="${tool.access_link}" target="_blank" rel="noopener noreferrer" class="text-indigo-primary hover:underline">Link to ${tool.name}</a></p>
                    </div>
                `;
            });
            generatedPromptsDiv.innerHTML = promptHtml;

            // Attach copy functionality to new buttons (Instant Gratification)
            document.querySelectorAll('.copy-prompt-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const promptText = decodeURIComponent(e.target.dataset.prompt);
                    navigator.clipboard.writeText(promptText)
                        .then(() => {
                            e.target.textContent = 'Copied!';
                            setTimeout(() => e.target.textContent = 'Copy', 2000); // Reset button text
                        })
                        .catch(err => console.error('Failed to copy text: ', err));
                });
            });
        }
    </script>
</body>
</html>